# Investment Calculator

![Tests](https://github.com/Clever-invest/Investment_calculator/actions/workflows/test.yml/badge.svg)
![Deploy](https://github.com/Clever-invest/Investment_calculator/actions/workflows/deploy.yml/badge.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-100%25-blue)
![PWA](https://img.shields.io/badge/PWA-Ready-green)

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ PWA-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –º–µ—Ç—Ä–∏–∫ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –ø–æ —Ñ–ª–∏–ø–ø–∏–Ω–≥—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –î—É–±–∞–µ.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–∏–ø—ã —Å–¥–µ–ª–æ–∫
- **üè¢ –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ä—ã–Ω–æ–∫** ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ñ–ª–∏–ø–ø–∏–Ω–≥ –≥–æ—Ç–æ–≤–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- **üèóÔ∏è Off-Plan** ‚Äî –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —Å —É—á–µ—Ç–æ–º –≥—Ä–∞—Ñ–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- –†–∞—Å—á—ë—Ç ROI (Return on Investment), IRR –∏ MOIC
- –ê–Ω–∞–ª–∏–∑ —Ä–∞–Ω–Ω–∏—Ö –ø—Ä–æ–¥–∞–∂ (early sale analysis)
- Waterfall-–≥—Ä–∞—Ñ–∏–∫–∏ –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- –°—Ü–µ–Ω–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –∞–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ OpenStreetMap
- –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF (–ª–∏—Å—Ç —Å–¥–µ–ª–∫–∏)

### –û–±–ª–∞—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Email/Password (Supabase Auth)
- ‚òÅÔ∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üì∑ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –æ–±—ä–µ–∫—Ç–æ–≤
- üì± PWA ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ä–∞–±–æ—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js >= 18.0.0
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd Investment_calculator

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:5173/Investment_calculator/`

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
# –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π nvm
./QUICK_START.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main.tsx                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ Router.tsx                # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è + PWA –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ App.tsx                   # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (304 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (AuthModal, UserMenu)
‚îÇ   ‚îú‚îÄ‚îÄ forms/                # –§–æ—Ä–º—ã –≤–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ results/              # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ projects/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ shared/               # Skeleton, OfflineIndicator
‚îú‚îÄ‚îÄ stores/                   # Zustand stores
‚îú‚îÄ‚îÄ services/                 # API —Å–µ—Ä–≤–∏—Å—ã (auth, propertiesApi)
‚îú‚îÄ‚îÄ hooks/                    # React —Ö—É–∫–∏
‚îú‚îÄ‚îÄ calculations/             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (core.ts)
‚îú‚îÄ‚îÄ types/                    # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ tests/                    # Unit/component —Ç–µ—Å—Ç—ã
```

## üéì –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –†–∞—Å—á—ë—Ç IRR (Internal Rate of Return)

–§–æ—Ä–º—É–ª–∞ IRR –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞—è —Ñ–ª–∏–ø–ø–∏–Ω–≥–∞:
```javascript
IRR = (revenueNet / totalCosts)^(12/totalMonths) - 1
```

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å ROI –∏ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á—ë—Ç–æ–≤ —Å–º. –≤ [IRR_ANALYSIS.md](./IRR_ANALYSIS.md)

### Off-Plan —Å–¥–µ–ª–∫–∏

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å—á—ë—Ç —Å–¥–µ–ª–æ–∫ —Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –Ω–∞ —ç—Ç–∞–ø–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞:
- –ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫—É
- –†–∞—Å—á—ë—Ç –æ—Å—Ç–∞—Ç–∫–∞ –¥–æ–ª–≥–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –¥–∞—Ç–µ –ø—Ä–æ–¥–∞–∂–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–≥–∞—à–∞–µ–º—ã—Ö/–Ω–µ–ø–æ–≥–∞—à–∞–µ–º—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–º. –≤ [OFFPLAN_CHECKLIST.md](./OFFPLAN_CHECKLIST.md)

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **ROI** ‚Äî –æ–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–±—ã–ª–∏ –±–µ–∑ —É—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏
- **IRR** ‚Äî –≥–æ–¥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ —Å —É—á—ë—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Break-even** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∑–∞—Ç—Ä–∞—Ç
- **Net Profit** ‚Äî —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞ —Å hot reload
npm run dev

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å UI
npm run test:ui

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production-—Å–±–æ—Ä–∫–∏
npm run preview

# TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npx tsc --noEmit
```

## üåê –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **`/`** ‚Äî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **`/v1`** ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ñ–ª–∏–ø–ø–∏–Ω–≥–∞

## üé® –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|----------|------------|
| **Frontend** | React 18, TypeScript, Vite |
| **Styling** | Tailwind CSS (–ª–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞) |
| **State** | Zustand (persist + devtools) |
| **Backend** | Supabase (PostgreSQL + Auth + Storage) |
| **Charts** | Recharts |
| **Icons** | Lucide React |
| **PWA** | vite-plugin-pwa, Workbox |
| **Testing** | Vitest, Playwright |
| **CI/CD** | GitHub Actions, GitHub Pages |

## üì¶ –î–µ–ø–ª–æ–π

### GitHub Pages

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages:

1. Push –≤ –≤–µ—Ç–∫—É `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç workflow
2. GitHub Actions —Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç (`npm run build`)
3. –î–µ–ø–ª–æ–π –≤ GitHub Pages

**Production URL:** `https://clever-invest.github.io/Investment_calculator/`

### Netlify

–ü—Ä–æ–µ–∫—Ç —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ–ø–ª–æ–π –Ω–∞ Netlify (—Å–º. `netlify.toml`)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Unit/component —Ç–µ—Å—Ç—ã (100 —Ç–µ—Å—Ç–æ–≤)
npm test

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# E2E —Ç–µ—Å—Ç—ã (Playwright)
npm run test:e2e
```

–ü–æ–∫—Ä—ã—Ç–∏–µ:
- –†–∞—Å—á—ë—Ç—ã –º–µ—Ç—Ä–∏–∫ (ROI, IRR, MOIC, break-even)
- Off-plan —Å–¥–µ–ª–∫–∏ –∏ –≥—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (InputField, MetricsGrid, WaterfallChart)
- E2E: –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —ç–∫—Å–ø–æ—Ä—Ç PDF

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[MIGRATION_PLAN.md](./MIGRATION_PLAN.md)** ‚Äî –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏–π
- **[CHANGELOG.md](./CHANGELOG.md)** ‚Äî –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **[IRR_ANALYSIS.md](./IRR_ANALYSIS.md)** ‚Äî –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º—É–ª—ã IRR
- **[OFFPLAN_CHECKLIST.md](./OFFPLAN_CHECKLIST.md)** ‚Äî –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª off-plan —Å–¥–µ–ª–æ–∫

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

1. –ò–∑—É—á–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. –î–æ–±–∞–≤—å—Ç–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∫–æ–¥–∞

## üõ†Ô∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env.local` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –î—É–±–∞–µ.
