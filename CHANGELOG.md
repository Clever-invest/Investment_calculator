# Changelog

Все значимые изменения проекта документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
версионирование следует [Semantic Versioning](https://semver.org/lang/ru/).

## [2.2.1] - 2025-12-15

### Добавлено
- **Синхронизация Slot ID с Notion** — поле `serial_number` из Supabase теперь синхронизируется с полем `Slot ID` в Notion
  - Обновлена Edge Function `sync-to-notion` до версии v15
  - Добавлен маппинг `serial_number` → `Slot ID` в функцию синхронизации

### Изменено
- Обновлена документация синхронизации с Notion (`docs/NOTION_SYNC_SETUP.md`)
- Обновлены технические заметки (`NOTES.md`) с информацией о новом поле

## [2.0.0] - 2025-12-05

### Добавлено
- **PWA поддержка** — приложение можно установить на устройство
  - Service Worker с Workbox для оффлайн-работы
  - Автоматическое обновление с уведомлением пользователя
  - Кэширование OSM карт и Supabase API
- **Supabase интеграция** — облачное хранение данных
  - Аутентификация через Email/Password
  - PostgreSQL база данных с RLS политиками
  - Supabase Storage для изображений объектов
  - Realtime синхронизация между устройствами
- **Skeleton loaders** — плавная загрузка страниц
- **Offline индикатор** — отображение статуса подключения
- **Code splitting** — оптимизация загрузки (lazy loading для страниц)
- **SEO meta теги** — Open Graph, Twitter Cards

### Изменено
- **Рефакторинг App.jsx** — с 1984 до 304 строк (сокращение на 85%)
- **Миграция на TypeScript** — все файлы теперь .ts/.tsx
- **Tailwind CSS** — с CDN на локальную установку
- **State Management** — с useState на Zustand stores
- Обновлены зависимости до актуальных версий

### Исправлено
- Связь изображений с объектами в базе данных
- Синхронизация данных при удалении объектов

## [1.0.0] - 2025-12-03

### Добавлено
- **Калькулятор флиппинга** — расчёт ROI, IRR, MOIC
- **Off-Plan сделки** — поддержка графика платежей застройщику
- **Waterfall графики** — визуализация денежных потоков
- **Анализ чувствительности** — влияние параметров на доходность
- **Экспорт в PDF** — лист сделки для презентации
- **Сохранение проектов** — localStorage
- **Интеграция с OpenStreetMap** — карты локаций

---

## Типы изменений

- **Добавлено** — новая функциональность
- **Изменено** — изменения в существующей функциональности
- **Устарело** — функциональность, которая будет удалена
- **Удалено** — удалённая функциональность
- **Исправлено** — исправления багов
- **Безопасность** — исправления уязвимостей
